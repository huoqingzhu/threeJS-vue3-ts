(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3cea85a2"],{"3c9d":function(e,t,n){"use strict";n.r(t);var a=n("7a23"),o=Object(a["withScopeId"])("data-v-a4341406");Object(a["pushScopeId"])("data-v-a4341406");var i={class:"head"},c=Object(a["createTextVNode"])("历史数据"),r=Object(a["createTextVNode"])("报警记录"),s={key:0,class:"table"},l={key:1,class:"table"};Object(a["popScopeId"])();var u=o((function(e,t,n,u,d,g){var p=Object(a["resolveComponent"])("a-button"),h=Object(a["resolveComponent"])("a-table");return Object(a["openBlock"])(),Object(a["createBlock"])("div",null,[Object(a["createVNode"])("div",i,[Object(a["createVNode"])(p,{onClick:t[1]||(t[1]=function(t){return e.change(!0)}),class:e.switchs?"on":"off"},{default:o((function(){return[c]})),_:1},8,["class"]),Object(a["createVNode"])(p,{onClick:t[2]||(t[2]=function(t){return e.change(!1)}),class:e.switchs?"off":"on"},{default:o((function(){return[r]})),_:1},8,["class"])]),e.switchs?(Object(a["openBlock"])(),Object(a["createBlock"])("div",s,[Object(a["createVNode"])(h,{columns:e.columns,"data-source":e.historyData,loading:e.loading,pagination:e.historyPagination,rowKey:function(e){return e._id},onChange:e.historyChange,bordered:""},null,8,["columns","data-source","loading","pagination","rowKey","onChange"])])):(Object(a["openBlock"])(),Object(a["createBlock"])("div",l,[Object(a["createVNode"])(h,{columns:e.column2,"data-source":e.policeData,loading:e.loading,pagination:e.policePagination,rowKey:function(e){return e._id},bordered:"",onChange:e.policeChange},null,8,["columns","data-source","loading","pagination","rowKey","onChange"])]))])})),d=n("5530"),g=n("fadb"),p=function(){var e=Object(a["reactive"])({historyData:[{code:1,name:"点位1",value:12,unit:10,time:"2020"}],policeData:[],loading:!1,switchs:!0,historyParams:{page_no:0,page_size:10},policeParams:{page_no:0,page_size:10},historyPagination:{total:0,current:1,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","15","20","30"],showTotal:function(e){return"共有 ".concat(e," 条数据")}},policePagination:{total:0,current:1,pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","15","20","30"],showTotal:function(e){return"共有 ".concat(e," 条数据")}}}),t=function(){Object(g["b"])(e.historyParams).then((function(t){e.historyData=t.list||[],console.log(e.historyData)}))},n=function(t){console.log(t),e.historyPagination.current=t.current,e.historyPagination.pageSize=t.pageSize,e.historyParams.page_no=t.current-1,e.historyParams.page_size=t.pageSize},o=function(t){console.log(t),e.policePagination.current=t.current,e.policePagination.pageSize=t.pageSize,e.historyParams.page_no=t.current-1,e.historyParams.page_size=t.pageSize},i=function(){Object(g["d"])(e.historyParams).then((function(t){e.policeData=t.list||[],console.log(e.policeData)}))},c=function(t){e.switchs=t};return{state:e,change:c,getHistory:t,getPolice:i,historyChange:n,policeChange:o}},h=Object(a["defineComponent"])({setup:function(){var e=p(),t=e.state,n=e.getHistory,o=e.getPolice,i=e.change,c=e.historyChange,r=e.policeChange;return n(),o(),Object(d["a"])({columns:f,column2:m,change:i,getHistory:n,getPolice:o,historyChange:c,policeChange:r},Object(a["toRefs"])(t))}}),f=[{title:"代码",key:"code",dataIndex:"code",align:"center"},{title:"测点名称",key:"name",dataIndex:"name",align:"center"},{title:"测量值",key:"value",dataIndex:"value",align:"center"},{title:"单位",key:"unit",dataIndex:"unit",align:"center"},{title:"时间",key:"time",dataIndex:"time",align:"center"}],m=[{title:"报警级别",key:"level",dataIndex:"level",align:"center"},{title:"报警名称",key:"name",dataIndex:"name",align:"center"},{title:"报警状态",key:"visits",dataIndex:"visits",align:"center"},{title:"触发时间",key:"happen_time",dataIndex:"happen_time",align:"center"},{title:"消除时间",key:"clear_time",dataIndex:"clear_time",align:"center"}];n("7cc7");h.render=u,h.__scopeId="data-v-a4341406";t["default"]=h},"40fe":function(e,t,n){},"7cc7":function(e,t,n){"use strict";n("40fe")},fadb:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return g}));n("fe27"),n("e790"),n("5dbe"),n("730c"),n("50e5"),n("dfb5"),n("ffb1");var a=n("bc3a"),o=n.n(a);function i(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?Number(unescape(n[2])):0}var c="http://123.56.85.24:5000/api/";c=1==i("ip")?"http://123.56.85.24:5000/api/":(i("ip"),"http://fq.lycent.cn/api");var r=o.a.create({baseURL:c,timeout:5e3});console.log(c),r.interceptors.request.use((function(e){var t=window.localStorage.getItem("accessToken");return t&&(e.headers.common.Authorization=t),e}),(function(e){return Promise.reject(e)})),r.interceptors.response.use((function(e){var t=e.data;return 200!==e.status?Promise.reject(new Error(t.message||"Error")):t}),(function(e){return console.log("err"+e),Promise.reject(e)}));var s=r;function l(e){return s({url:"/data/get",params:{id:e},method:"get"})}function u(){return s({url:"/timer/sec",method:"get"})}function d(e){return s({url:"/history/num",method:"get",params:e})}function g(e){return s({url:"/alarm/search",method:"get",params:e})}}}]);